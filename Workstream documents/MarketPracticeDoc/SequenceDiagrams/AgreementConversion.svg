<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1391px" preserveAspectRatio="none" style="width:1136px;height:1391px;background:#FFFFFF;" version="1.1" viewBox="0 0 1136 1391" width="1136px" zoomAndPan="magnify"><defs/><g><rect height="27.6094" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="464" x="337" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="454" x="342" y="29.5332">Agreement phase on providing liquidity ISO 20022 Message Flow</text><rect height="693.3594" style="stroke:#000000;stroke-width:1.5;fill:none;" width="798" x="331" y="644.7656"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="387" x2="387" y1="76.2188" y2="1355.125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="560.5" x2="560.5" y1="76.2188" y2="1355.125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="735" x2="735" y1="76.2188" y2="1355.125"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="341" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="348" y="65.1426">Payer DFSP</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="341" y="1354.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="348" y="1375.6582">Payer DFSP</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="525.5" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="532.5" y="65.1426">Mojaloop</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="525.5" y="1354.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="532.5" y="1375.6582">Mojaloop</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="642" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="649" y="65.1426">Foreign Exchange Provider</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="642" y="1354.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="649" y="1375.6582">Foreign Exchange Provider</text><polygon fill="#181818" points="549,320.1406,559,324.1406,549,328.1406,553,324.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="387" x2="555" y1="324.1406" y2="324.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="394" y="319.2842">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="405" y="319.2842">POST /fxQuotes</text><path d="M5,91.2188 L5,542.2188 L382,542.2188 L382,101.2188 L372,91.2188 L5,91.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M372,91.2188 L372,101.2188 L382,101.2188 L372,91.2188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="11" y="109.7139">pacs.091.001.01</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="320" x="11" y="126.0654">Financial Institution Credit Transfer Quote Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="11" y="142.417">"GrpHdr": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="27" y="158.7686">"MsgId": "01JBVM16V3Q4MSV8KTG0BRJGZ2",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="27" y="175.1201">"CreDtTm": "2024-11-04T12:57:39.427Z",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="27" y="191.4717">"NbOfTxs": "1",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="27" y="207.8232">"SttlmInf": { "SttlmMtd": "CLRG" },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="27" y="224.1748">"PmtInstrXpryDtTm": "2024-11-04T12:58:39.425Z"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="11" y="240.5264">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="11" y="256.8779">"CdtTrfTxInf": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="27" y="273.2295">"PmtId": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="43" y="289.5811">"TxId": "01JBVM16V1ZXP2DM34BQT40NW9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="43" y="305.9326">"InstrId": "01JBVM16V1ZXP2DM34BQT40NWA",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="43" y="322.2842">"EndToEndId": "01JBVM13SQYP507JB1DYBZVCMF" },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="27" y="338.6357">"Dbtr": { "FinInstnId": { "Othr": { "Id":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78" x="238" y="338.6357">"payer-dfsp"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="320" y="338.6357">} } },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="27" y="354.9873">"UndrlygCstmrCdtTrf": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="43" y="371.3389">"Dbtr": {"Id": {"OrgId": {"Othr": {"Id": "payer-dfsp"}}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="43" y="387.6904">"DbtrAgt": {"FinInstnId": {"Othr": {"Id": "payer-dfsp"}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="43" y="404.042">"Cdtr": {"Id": {"OrgId": {"Othr": {"Id": "fxp"}}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="43" y="420.3936">"CdtrAgt": {"FinInstnId": {"Othr": {"Id": "fxp"}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="43" y="436.7451">"InstdAmt": {"Ccy":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="43" x="158" y="436.7451">"ZMW"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="201" y="436.7451">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="59" y="453.0967">"ActiveOrHistoricCurrencyAndAmount":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26" x="290" y="453.0967">"21"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="316" y="453.0967">}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="27" y="469.4482">"Cdtr": {"FinInstnId": {"Othr": {"Id":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="226" y="469.4482">"fxp"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="258" y="469.4482">}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="27" y="485.7998">"IntrBkSttlmAmt": { "Ccy":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="45" x="183" y="485.7998">"MWK"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="228" y="485.7998">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="43" y="502.1514">"ActiveCurrencyAndAmount": "0"},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="27" y="518.5029">"InstrForCdtrAgt": {"InstrInf":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="47" x="193" y="518.5029">"SEND"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="240" y="518.5029">}}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="534.8545">}</text><polygon fill="#181818" points="723,566.0625,733,570.0625,723,574.0625,727,570.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="561" x2="729" y1="570.0625" y2="570.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="568" y="565.2061">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="579" y="565.2061">POST /fxQuotes</text><line style="stroke:#181818;stroke-width:1.0;" x1="735" x2="777" y1="616.7656" y2="616.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="777" x2="777" y1="616.7656" y2="629.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="736" x2="777" y1="629.7656" y2="629.7656"/><polygon fill="#181818" points="746,625.7656,736,629.7656,746,633.7656,742,629.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="742" y="603.7334">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="753" y="595.5576">Check to see if liqidity can be provided</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="757" y="611.9092">and provide rates.</text><path d="M331,644.7656 L392,644.7656 L392,653.1172 L382,663.1172 L331,663.1172 L331,644.7656 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="693.3594" style="stroke:#000000;stroke-width:1.5;" width="798" x="331" y="644.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="346" y="659.2607">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="223" x="407" y="658.1846">[if FXP can provide the payment liquidity]</text><polygon fill="#181818" points="572,888.8633,562,892.8633,572,896.8633,568,892.8633" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="566" x2="734" y1="892.8633" y2="892.8633"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="888.0068">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="589" y="888.0068">PUT /fxQuotes/{ID}</text><path d="M740,668.1172 L740,1103.1172 L1114,1103.1172 L1114,678.1172 L1104,668.1172 L740,668.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1104,668.1172 L1104,678.1172 L1114,678.1172 L1104,668.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="746" y="686.6123">pacs.092.001.01</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="330" x="746" y="702.9639">Financial Institution Credit Transfer Quote Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="746" y="719.3154">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="746" y="735.667">"GrpHdr": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="762" y="752.0186">"MsgId": "01JBVM176FTHB9F2ZQJJ7AFCN8",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="762" y="768.3701">"CreDtTm": "2024-11-04T12:57:39.791Z",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="762" y="784.7217">"NbOfTxs": "1",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="762" y="801.0732">"SttlmInf": { "SttlmMtd": "CLRG" },</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="762" y="817.4248">"PmtInstrXpryDtTm": "2024-11-04T12:58:39.425Z"},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="746" y="833.7764">"CdtTrfTxInf": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="758" y="850.1279">"VrfctnOfTerms": {"Sh256Sgntr":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="949" y="850.1279">"KVHFmdTD6A..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1061" y="850.1279">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="762" y="866.4795">"PmtId": {"InstrId": "01JBVM16V1ZXP2DM34BQT40NWA",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="778" y="882.8311">"TxId": "01JBVM13SQYP507JB1DYBZVCMF"},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="762" y="899.1826">"Dbtr": {"FinInstnId": {"Othr": {"Id":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78" x="961" y="899.1826">"payer-dfsp"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="1039" y="899.1826">}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="762" y="915.5342">"UndrlygCstmrCdtTrf": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="778" y="931.8857">"Dbtr": {"Id": {"OrgId": {"Othr": {"Id": "payer-dfsp"}}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="778" y="948.2373">"DbtrAgt": {"FinInstnId": {"Othr": {"Id": "payer-dfsp"}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="778" y="964.5889">"Cdtr": {"Id": {"OrgId": {"Othr": {"Id": "fxp"}}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="778" y="980.9404">"CdtrAgt": {"FinInstnId": {"Othr": {"Id": "fxp"}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="778" y="997.292">"InstdAmt": { "Ccy":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="43" x="897" y="997.292">"ZMW"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="940" y="997.292">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="794" y="1013.6436">"ActiveOrHistoricCurrencyAndAmount":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26" x="1025" y="1013.6436">"21"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="1051" y="1013.6436">}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="762" y="1029.9951">"Cdtr": {"FinInstnId": {"Othr": {"Id":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="961" y="1029.9951">"fxp"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="993" y="1029.9951">}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="762" y="1046.3467">"IntrBkSttlmAmt": {"Ccy":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="45" x="914" y="1046.3467">"MWK"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="959" y="1046.3467">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="778" y="1062.6982">"ActiveCurrencyAndAmount":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="951" y="1062.6982">"1080"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="991" y="1062.6982">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="762" y="1079.0498">"InstrForCdtrAgt": {"InstrInf":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="47" x="928" y="1079.0498">"SEND"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="975" y="1079.0498">}}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="746" y="1095.4014">}</text><polygon fill="#181818" points="398,1126.6094,388,1130.6094,398,1134.6094,394,1130.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="392" x2="560" y1="1130.6094" y2="1130.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="404" y="1125.7529">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="415" y="1125.7529">PUT /fxQuotes/{ID}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="331" x2="1129" y1="1139.6094" y2="1139.6094"/><polygon fill="#181818" points="572,1227.3672,562,1231.3672,572,1235.3672,568,1231.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="566" x2="734" y1="1231.3672" y2="1231.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="578" y="1226.5107">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="589" y="1226.5107">PUT /fxQuotes/{ID}/error</text><path d="M740,1145.6094 L740,1302.6094 L1078,1302.6094 L1078,1155.6094 L1068,1145.6094 L740,1145.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1068,1145.6094 L1068,1155.6094 L1078,1155.6094 L1068,1145.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="746" y="1164.1045">pacs.002.001.15</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="270" x="746" y="1180.4561">Financial Institution to Financial Institution</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1016" y="1180.4561"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="746" y="1196.8076">Payment Status Report</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="746" y="1213.1592">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="746" y="1229.5107">"GrpHdr": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="762" y="1245.8623">"MsgId":"01JBVM1CGC5A18XQVYYRF68FD1",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="762" y="1262.2139">"CreDtTm":"2024-11-04T12:57:45.228Z"},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="746" y="1278.5654">"TxInfAndSts":{"StsRsnInf":{"Rsn": {"Cd":"ErrorCode"}}}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="746" y="1294.917">}</text><polygon fill="#181818" points="398,1326.125,388,1330.125,398,1334.125,394,1330.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="392" x2="560" y1="1330.125" y2="1330.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="404" y="1325.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="415" y="1325.2686">PUT /fxQuotes/{ID}/error</text><!--MD5=[d99f021086ebafdbdc87ca7e2e299e39]
@startuml

Title Agreement phase on providing liquidity ISO 20022 Message Flow
participant PayerDFSP as "Payer DFSP"
participant Mojaloop as "Mojaloop"
participant FXP as "Foreign Exchange Provider"

autonumber

PayerDFSP -> Mojaloop: POST /fxQuotes
note left
**pacs.091.001.01**
**Financial Institution Credit Transfer Quote Request**
"GrpHdr": {
    "MsgId": "01JBVM16V3Q4MSV8KTG0BRJGZ2",
    "CreDtTm": "2024-11-04T12:57:39.427Z",
    "NbOfTxs": "1",
    "SttlmInf": { "SttlmMtd": "CLRG" },
    "PmtInstrXpryDtTm": "2024-11-04T12:58:39.425Z"
},
"CdtTrfTxInf": {
    "PmtId": {
        "TxId": "01JBVM16V1ZXP2DM34BQT40NW9",
        "InstrId": "01JBVM16V1ZXP2DM34BQT40NWA",
        "EndToEndId": "01JBVM13SQYP507JB1DYBZVCMF" },
    "Dbtr": { "FinInstnId": { "Othr": { "Id": **"payer-dfsp"** } } },
    "UndrlygCstmrCdtTrf": {
        "Dbtr": {"Id": {"OrgId": {"Othr": {"Id": "payer-dfsp"}}}},
        "DbtrAgt": {"FinInstnId": {"Othr": {"Id": "payer-dfsp"}}},
        "Cdtr": {"Id": {"OrgId": {"Othr": {"Id": "fxp"}}}},
        "CdtrAgt": {"FinInstnId": {"Othr": {"Id": "fxp"}}},
        "InstdAmt": {"Ccy": **"ZMW"**,
            "ActiveOrHistoricCurrencyAndAmount": **"21"**}},
    "Cdtr": {"FinInstnId": {"Othr": {"Id": **"fxp"**}}},
    "IntrBkSttlmAmt": { "Ccy": **"MWK"**,
        "ActiveCurrencyAndAmount": "0"},
    "InstrForCdtrAgt": {"InstrInf": **"SEND"**}}
}
end note
Mojaloop -> FXP: POST /fxQuotes
FXP -> FXP: Check to see if liqidity can be provided \n and provide rates.
alt if FXP can provide the payment liquidity
FXP -> Mojaloop: PUT /fxQuotes/{ID}
note right
**pacs.092.001.01**
**Financial Institution Credit Transfer Quote Response**
{
"GrpHdr": {
    "MsgId": "01JBVM176FTHB9F2ZQJJ7AFCN8",
    "CreDtTm": "2024-11-04T12:57:39.791Z",
    "NbOfTxs": "1",
    "SttlmInf": { "SttlmMtd": "CLRG" },
    "PmtInstrXpryDtTm": "2024-11-04T12:58:39.425Z"},
"CdtTrfTxInf": {
   "VrfctnOfTerms": {"Sh256Sgntr": **"KVHFmdTD6A..."**},
    "PmtId": {"InstrId": "01JBVM16V1ZXP2DM34BQT40NWA",
        "TxId": "01JBVM13SQYP507JB1DYBZVCMF"},
    "Dbtr": {"FinInstnId": {"Othr": {"Id": **"payer-dfsp"**}}},
    "UndrlygCstmrCdtTrf": {
        "Dbtr": {"Id": {"OrgId": {"Othr": {"Id": "payer-dfsp"}}}},
        "DbtrAgt": {"FinInstnId": {"Othr": {"Id": "payer-dfsp"}}},
        "Cdtr": {"Id": {"OrgId": {"Othr": {"Id": "fxp"}}}},
        "CdtrAgt": {"FinInstnId": {"Othr": {"Id": "fxp"}}},
        "InstdAmt": { "Ccy": **"ZMW"**,
            "ActiveOrHistoricCurrencyAndAmount": **"21"**}},
    "Cdtr": {"FinInstnId": {"Othr": {"Id": **"fxp"**}}},
    "IntrBkSttlmAmt": {"Ccy": **"MWK"**,
        "ActiveCurrencyAndAmount": **"1080"**},
    "InstrForCdtrAgt": {"InstrInf": **"SEND"**}}
}
end note
Mojaloop -> PayerDFSP: PUT /fxQuotes/{ID}

else

FXP -> Mojaloop: PUT /fxQuotes/{ID}/error 
note right
**pacs.002.001.15**
**Financial Institution to Financial Institution** 
**Payment Status Report**
{
"GrpHdr": {
    "MsgId":"01JBVM1CGC5A18XQVYYRF68FD1",
    "CreDtTm":"2024-11-04T12:57:45.228Z"},
"TxInfAndSts":{"StsRsnInf":{"Rsn": {"Cd":"ErrorCode"}}}
}
end note
Mojaloop -> PayerDFSP: PUT /fxQuotes/{ID}/error 
end


@enduml

PlantUML version 1.2022.6(Tue Jun 21 18:34:49 BST 2022)
(GPLV2 source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>